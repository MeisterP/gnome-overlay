From 09157cf4bbb847f66076c113eb5c6b1b5e7e08e9 Mon Sep 17 00:00:00 2001
From: Poncho <poncho@spahan.ch>
Date: Tue, 17 Dec 2019 08:51:32 +0100
Subject: [PATCH] Revert "x11: Update X11 focus before updating MetaDisplay
 focus"

This reverts commit ef2f5f07f098d67d8fd1bba76d1df18d62daeb81.
---
 src/x11/meta-x11-display.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/x11/meta-x11-display.c b/src/x11/meta-x11-display.c
index c05f1ab28..1a9b001ed 100644
--- a/src/x11/meta-x11-display.c
+++ b/src/x11/meta-x11-display.c
@@ -1931,6 +1931,7 @@ meta_x11_display_set_input_focus_xwindow (MetaX11Display *x11_display,
   if (meta_display_timestamp_too_old (x11_display->display, &timestamp))
     return;
 
+  meta_display_unset_input_focus (x11_display->display, timestamp);
   serial = XNextRequest (x11_display->xdisplay);
   meta_x11_display_set_input_focus_internal (x11_display, window, timestamp);
   meta_x11_display_update_focus_window (x11_display, window, serial, TRUE);
-- 
2.24.1

