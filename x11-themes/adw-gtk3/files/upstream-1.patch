From ecdcebb362d9ad38f4fc60eb338f58a3281bc6b0 Mon Sep 17 00:00:00 2001
From: lassekongo83 <lassekongo83@users.noreply.github.com>
Date: Wed, 23 Mar 2022 07:47:14 +0100
Subject: [PATCH] add .flat style to the custom button styles

---
 gtk/src/adw-gtk3/gtk-3.0/_custom.scss | 6 ++++++
 gtk/src/adw-gtk3/gtk-3.0/gtk-dark.css | 8 ++++++++
 gtk/src/adw-gtk3/gtk-3.0/gtk.css      | 8 ++++++++
 3 files changed, 22 insertions(+)

diff --git a/gtk/src/adw-gtk3/gtk-3.0/_custom.scss b/gtk/src/adw-gtk3/gtk-3.0/_custom.scss
index ad60862..b5bf969 100644
--- a/gtk/src/adw-gtk3/gtk-3.0/_custom.scss
+++ b/gtk/src/adw-gtk3/gtk-3.0/_custom.scss
@@ -37,6 +37,8 @@ $backdrop_linked_border: if($variant == 'light', lighten($backdrop_borders_color
     @include button(normal, $headerbar_color, $fg_color);
   }
 
+  &.flat:not(:hover):not(:active) { @include button(undecorated); }
+
   &.suggested-action, &.text-button.suggested-action { @extend %suggested_buttons; }
   &.destructive-action, &.text-button.destructive-action { @extend %destructive_buttons; }
 }
@@ -73,6 +75,8 @@ $backdrop_linked_border: if($variant == 'light', lighten($backdrop_borders_color
     @include button(normal, $headerbar_color, $fg_color);
   }
 
+  &.flat:not(:hover):not(:active) { @include button(undecorated); }
+
   &.suggested-action, &.text-button.suggested-action { @extend %suggested_buttons; }
   &.destructive-action, &.text-button.destructive-action { @extend %destructive_buttons; }
 }
@@ -184,6 +188,7 @@ list.content,
 list.view.frame {
   button, > row:not(:selected):hover button {
     @include button(normal, $card_bg_color, $card_fg_color);
+    &.flat:not(:hover):not(:active) { @include button(undecorated); }
     &:hover { @include button(hover, $card_bg_color, $card_fg_color); }
     &:active, &:checked { @include button(active, $card_bg_color, $card_fg_color); }
     &:disabled { @include button(insensitive, $card_bg_color, $insensitive_fg_color); }
@@ -204,6 +209,7 @@ list.view.frame {
 popover.background {
   button {
     @include button(normal, $popover_bg_color, $fg_color);
+    &.flat:not(:hover):not(:active) { @include button(undecorated); }
     &:hover { @include button(hover, $popover_bg_color, $fg_color); }
     &:active, &:checked { @include button(active, $popover_bg_color, $fg_color); }
     &:disabled { @include button(insensitive, $popover_bg_color, $insensitive_fg_color); }
diff --git a/gtk/src/adw-gtk3/gtk-3.0/gtk-dark.css b/gtk/src/adw-gtk3/gtk-3.0/gtk-dark.css
index d13ec48..020d397 100644
--- a/gtk/src/adw-gtk3/gtk-3.0/gtk-dark.css
+++ b/gtk/src/adw-gtk3/gtk-3.0/gtk-dark.css
@@ -2258,6 +2258,8 @@ read if you used those and something break with a version upgrade you're on your
 
 .org-gnome-Calendar .titlebar .default.text-button:not(:backdrop):not(.suggested-action):not(.destructive-action), .nautilus-window .search + .default.toggle.popup:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) .linked.raised button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) .linked button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), .titlebar:not(.selection-mode) .linked.raised button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), .titlebar:not(.selection-mode) .linked button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) button.default.text-button:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.default.text-button:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:disabled) { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #454545; }
 
+.org-gnome-Calendar .titlebar .flat.text-button:not(:hover):not(:active), .nautilus-window .search + .flat.toggle.popup:not(:hover):not(:active), headerbar:not(.selection-mode) .linked.raised button.flat:not(:hover):not(:active), headerbar:not(.selection-mode) .linked button.flat:not(:hover):not(:active):not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.flat:not(:hover):not(:active), .titlebar:not(.selection-mode) .linked.raised button.flat:not(:hover):not(:active), .titlebar:not(.selection-mode) .linked button.flat:not(:hover):not(:active):not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.flat:not(:hover):not(:active), headerbar:not(.selection-mode) button.flat.text-button:not(:hover):not(:active):not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.flat.text-button:not(:hover):not(:active):not(.suggested-action):not(.destructive-action):not(:disabled) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 .nautilus-window .linked.raised button.image-button:hover:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button:hover, headerbar:not(.selection-mode) viewswitcher button.radio:hover:checked, .titlebar:not(.selection-mode) viewswitcher button.radio:hover:checked, headerbar:not(.selection-mode) button:hover:not(.titlebutton), .titlebar:not(.selection-mode) button:hover:not(.titlebutton) { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #3e3e3e; box-shadow: none; }
 
 .nautilus-window .linked.raised button.image-button:backdrop:hover:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button:backdrop:hover, headerbar:not(.selection-mode) viewswitcher button.radio:backdrop:hover:checked, .titlebar:not(.selection-mode) viewswitcher button.radio:backdrop:hover:checked, headerbar:not(.selection-mode) button:backdrop:hover:not(.titlebutton), .titlebar:not(.selection-mode) button:backdrop:hover:not(.titlebutton) { color: #7b7b7b; background-color: #2c2c2c; text-shadow: none; -gtk-icon-shadow: none; }
@@ -2272,6 +2274,8 @@ read if you used those and something break with a version upgrade you're on your
 
 .nautilus-window .linked.raised button.default.image-button:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) viewswitcher button.default.radio:not(:backdrop):not(.suggested-action):not(.destructive-action):checked, .titlebar:not(.selection-mode) viewswitcher button.default.radio:not(:backdrop):not(.suggested-action):not(.destructive-action):checked, headerbar:not(.selection-mode) button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(.titlebutton), .titlebar:not(.selection-mode) button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(.titlebutton) { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #454545; }
 
+.nautilus-window .linked.raised button.flat.image-button:not(:hover):not(:active):not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.flat:not(:hover):not(:active), headerbar:not(.selection-mode) viewswitcher button.flat.radio:not(:hover):not(:active):checked, .titlebar:not(.selection-mode) viewswitcher button.flat.radio:not(:hover):not(:active):checked, headerbar:not(.selection-mode) button.flat:not(:hover):not(:active):not(.titlebutton), .titlebar:not(.selection-mode) button.flat:not(:hover):not(:active):not(.titlebutton) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 popover.background button.suggested-action, .content list button.suggested-action, .content list > row:not(:selected):hover button.suggested-action, list.content button.suggested-action, list.content > row:not(:selected):hover button.suggested-action, list.view.frame button.suggested-action, list.view.frame > row:not(:selected):hover button.suggested-action, .org-gnome-Calendar .titlebar .suggested-action.text-button, .nautilus-window .search + .suggested-action.toggle.popup, headerbar:not(.selection-mode) .linked.raised button.suggested-action, headerbar:not(.selection-mode) .linked button.suggested-action:not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action, .titlebar:not(.selection-mode) .linked.raised button.suggested-action, .titlebar:not(.selection-mode) .linked button.suggested-action:not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action, headerbar:not(.selection-mode) button.suggested-action.text-button:not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.suggested-action.text-button:not(.suggested-action):not(.destructive-action):not(:disabled), .nautilus-window .linked.raised button.suggested-action.image-button:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.suggested-action, headerbar:not(.selection-mode) viewswitcher button.suggested-action.radio:checked, .titlebar:not(.selection-mode) viewswitcher button.suggested-action.radio:checked, headerbar:not(.selection-mode) button.suggested-action:not(.titlebutton), .titlebar:not(.selection-mode) button.suggested-action:not(.titlebutton) { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #5a9be9; }
 
 popover.background button.suggested-action:hover, .content list button.suggested-action:hover, .content list > row:not(:selected):hover button.suggested-action:hover, list.content button.suggested-action:hover, list.content > row:not(:selected):hover button.suggested-action:hover, list.view.frame button.suggested-action:hover, list.view.frame > row:not(:selected):hover button.suggested-action:hover, .org-gnome-Calendar .titlebar .suggested-action.text-button:hover, .nautilus-window .search + .suggested-action.toggle.popup:hover, headerbar:not(.selection-mode) .linked.raised button.suggested-action:hover, headerbar:not(.selection-mode) .linked button.suggested-action:hover:not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action:hover, .titlebar:not(.selection-mode) .linked.raised button.suggested-action:hover, .titlebar:not(.selection-mode) .linked button.suggested-action:hover:not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action:hover, headerbar:not(.selection-mode) button.suggested-action.text-button:hover:not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.suggested-action.text-button:hover:not(.suggested-action):not(.destructive-action):not(:disabled), .nautilus-window .linked.raised button.suggested-action.image-button:hover:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.suggested-action:hover, headerbar:not(.selection-mode) viewswitcher button.suggested-action.radio:hover:checked, .titlebar:not(.selection-mode) viewswitcher button.suggested-action.radio:hover:checked, headerbar:not(.selection-mode) button.suggested-action:hover:not(.titlebutton), .titlebar:not(.selection-mode) button.suggested-action:hover:not(.titlebutton) { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #6fa8ec; box-shadow: none; }
@@ -2338,6 +2342,8 @@ headerbar.selection-mode viewswitcher button.radio, .titlebar.selection-mode vie
 
 .content list button, .content list > row:not(:selected):hover button, list.content button, list.content > row:not(:selected):hover button, list.view.frame button, list.view.frame > row:not(:selected):hover button { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #4a4a4a; }
 
+.content list button.flat:not(:hover):not(:active), .content list > row:not(:selected):hover button.flat:not(:hover):not(:active), list.content button.flat:not(:hover):not(:active), list.content > row:not(:selected):hover button.flat:not(:hover):not(:active), list.view.frame button.flat:not(:hover):not(:active), list.view.frame > row:not(:selected):hover button.flat:not(:hover):not(:active) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 .content list button:hover, .content list > row:not(:selected):hover button:hover, list.content button:hover, list.content > row:not(:selected):hover button:hover, list.view.frame button:hover, list.view.frame > row:not(:selected):hover button:hover { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #565656; box-shadow: none; }
 
 .content list button:active, .content list button:checked, .content list > row:not(:selected):hover button:active, .content list > row:not(:selected):hover button:checked, list.content button:active, list.content button:checked, list.content > row:not(:selected):hover button:active, list.content > row:not(:selected):hover button:checked, list.view.frame button:active, list.view.frame button:checked, list.view.frame > row:not(:selected):hover button:active, list.view.frame > row:not(:selected):hover button:checked { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #767676; box-shadow: none; text-shadow: none; -gtk-icon-shadow: none; }
@@ -2360,6 +2366,8 @@ headerbar.selection-mode viewswitcher button.radio, .titlebar.selection-mode vie
 
 popover.background button { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #4e4e4e; }
 
+popover.background button.flat:not(:hover):not(:active) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 popover.background button:hover { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #5a5a5a; box-shadow: none; }
 
 popover.background button:active, popover.background button:checked { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #797979; box-shadow: none; text-shadow: none; -gtk-icon-shadow: none; }
diff --git a/gtk/src/adw-gtk3/gtk-3.0/gtk.css b/gtk/src/adw-gtk3/gtk-3.0/gtk.css
index 95b0936..7702a12 100644
--- a/gtk/src/adw-gtk3/gtk-3.0/gtk.css
+++ b/gtk/src/adw-gtk3/gtk-3.0/gtk.css
@@ -2238,6 +2238,8 @@ read if you used those and something break with a version upgrade you're on your
 
 .org-gnome-Calendar .titlebar .default.text-button:not(:backdrop):not(.suggested-action):not(.destructive-action), .nautilus-window .search + .default.toggle.popup:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) .linked.raised button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) .linked button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), .titlebar:not(.selection-mode) .linked.raised button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), .titlebar:not(.selection-mode) .linked button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) button.default.text-button:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.default.text-button:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:disabled) { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #d6d6d6; }
 
+.org-gnome-Calendar .titlebar .flat.text-button:not(:hover):not(:active), .nautilus-window .search + .flat.toggle.popup:not(:hover):not(:active), headerbar:not(.selection-mode) .linked.raised button.flat:not(:hover):not(:active), headerbar:not(.selection-mode) .linked button.flat:not(:hover):not(:active):not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.flat:not(:hover):not(:active), .titlebar:not(.selection-mode) .linked.raised button.flat:not(:hover):not(:active), .titlebar:not(.selection-mode) .linked button.flat:not(:hover):not(:active):not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.flat:not(:hover):not(:active), headerbar:not(.selection-mode) button.flat.text-button:not(:hover):not(:active):not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.flat.text-button:not(:hover):not(:active):not(.suggested-action):not(.destructive-action):not(:disabled) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 .nautilus-window .linked.raised button.image-button:hover:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button:hover, headerbar:not(.selection-mode) viewswitcher button.radio:hover:checked, .titlebar:not(.selection-mode) viewswitcher button.radio:hover:checked, headerbar:not(.selection-mode) button:hover:not(.titlebutton), .titlebar:not(.selection-mode) button:hover:not(.titlebutton) { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #dedede; box-shadow: none; }
 
 .nautilus-window .linked.raised button.image-button:backdrop:hover:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button:backdrop:hover, headerbar:not(.selection-mode) viewswitcher button.radio:backdrop:hover:checked, .titlebar:not(.selection-mode) viewswitcher button.radio:backdrop:hover:checked, headerbar:not(.selection-mode) button:backdrop:hover:not(.titlebutton), .titlebar:not(.selection-mode) button:backdrop:hover:not(.titlebutton) { color: rgba(174, 174, 174, 0.92); background-color: #f3f3f3; text-shadow: none; -gtk-icon-shadow: none; }
@@ -2252,6 +2254,8 @@ read if you used those and something break with a version upgrade you're on your
 
 .nautilus-window .linked.raised button.default.image-button:not(:backdrop):not(.suggested-action):not(.destructive-action):not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.default:not(:backdrop):not(.suggested-action):not(.destructive-action), headerbar:not(.selection-mode) viewswitcher button.default.radio:not(:backdrop):not(.suggested-action):not(.destructive-action):checked, .titlebar:not(.selection-mode) viewswitcher button.default.radio:not(:backdrop):not(.suggested-action):not(.destructive-action):checked, headerbar:not(.selection-mode) button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(.titlebutton), .titlebar:not(.selection-mode) button.default:not(:backdrop):not(.suggested-action):not(.destructive-action):not(.titlebutton) { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #d6d6d6; }
 
+.nautilus-window .linked.raised button.flat.image-button:not(:hover):not(:active):not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.flat:not(:hover):not(:active), headerbar:not(.selection-mode) viewswitcher button.flat.radio:not(:hover):not(:active):checked, .titlebar:not(.selection-mode) viewswitcher button.flat.radio:not(:hover):not(:active):checked, headerbar:not(.selection-mode) button.flat:not(:hover):not(:active):not(.titlebutton), .titlebar:not(.selection-mode) button.flat:not(:hover):not(:active):not(.titlebutton) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 popover.background button.suggested-action, .content list button.suggested-action, .content list > row:not(:selected):hover button.suggested-action, list.content button.suggested-action, list.content > row:not(:selected):hover button.suggested-action, list.view.frame button.suggested-action, list.view.frame > row:not(:selected):hover button.suggested-action, .org-gnome-Calendar .titlebar .suggested-action.text-button, .nautilus-window .search + .suggested-action.toggle.popup, headerbar:not(.selection-mode) .linked.raised button.suggested-action, headerbar:not(.selection-mode) .linked button.suggested-action:not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action, .titlebar:not(.selection-mode) .linked.raised button.suggested-action, .titlebar:not(.selection-mode) .linked button.suggested-action:not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action, headerbar:not(.selection-mode) button.suggested-action.text-button:not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.suggested-action.text-button:not(.suggested-action):not(.destructive-action):not(:disabled), .nautilus-window .linked.raised button.suggested-action.image-button:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.suggested-action, headerbar:not(.selection-mode) viewswitcher button.suggested-action.radio:checked, .titlebar:not(.selection-mode) viewswitcher button.suggested-action.radio:checked, headerbar:not(.selection-mode) button.suggested-action:not(.titlebutton), .titlebar:not(.selection-mode) button.suggested-action:not(.titlebutton) { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #1c6fd4; }
 
 popover.background button.suggested-action:hover, .content list button.suggested-action:hover, .content list > row:not(:selected):hover button.suggested-action:hover, list.content button.suggested-action:hover, list.content > row:not(:selected):hover button.suggested-action:hover, list.view.frame button.suggested-action:hover, list.view.frame > row:not(:selected):hover button.suggested-action:hover, .org-gnome-Calendar .titlebar .suggested-action.text-button:hover, .nautilus-window .search + .suggested-action.toggle.popup:hover, headerbar:not(.selection-mode) .linked.raised button.suggested-action:hover, headerbar:not(.selection-mode) .linked button.suggested-action:hover:not(:only-child), headerbar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action:hover, .titlebar:not(.selection-mode) .linked.raised button.suggested-action:hover, .titlebar:not(.selection-mode) .linked button.suggested-action:hover:not(:only-child), .titlebar:not(.selection-mode) > .stack-switcher.linked > button.suggested-action:hover, headerbar:not(.selection-mode) button.suggested-action.text-button:hover:not(.suggested-action):not(.destructive-action):not(:disabled), .titlebar:not(.selection-mode) button.suggested-action.text-button:hover:not(.suggested-action):not(.destructive-action):not(:disabled), .nautilus-window .linked.raised button.suggested-action.image-button:hover:not(:only-child), .nautilus-window .titlebar :not(.raised) .linked > button.suggested-action:hover, headerbar:not(.selection-mode) viewswitcher button.suggested-action.radio:hover:checked, .titlebar:not(.selection-mode) viewswitcher button.suggested-action.radio:hover:checked, headerbar:not(.selection-mode) button.suggested-action:hover:not(.titlebutton), .titlebar:not(.selection-mode) button.suggested-action:hover:not(.titlebutton) { color: white; outline-color: rgba(255, 255, 255, 0.3); background-color: #1a67c5; box-shadow: none; }
@@ -2318,6 +2322,8 @@ headerbar.selection-mode viewswitcher button.radio, .titlebar.selection-mode vie
 
 .content list button, .content list > row:not(:selected):hover button, list.content button, list.content > row:not(:selected):hover button, list.view.frame button, list.view.frame > row:not(:selected):hover button { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #ebebeb; }
 
+.content list button.flat:not(:hover):not(:active), .content list > row:not(:selected):hover button.flat:not(:hover):not(:active), list.content button.flat:not(:hover):not(:active), list.content > row:not(:selected):hover button.flat:not(:hover):not(:active), list.view.frame button.flat:not(:hover):not(:active), list.view.frame > row:not(:selected):hover button.flat:not(:hover):not(:active) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 .content list button:hover, .content list > row:not(:selected):hover button:hover, list.content button:hover, list.content > row:not(:selected):hover button:hover, list.view.frame button:hover, list.view.frame > row:not(:selected):hover button:hover { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #e2e2e2; box-shadow: none; }
 
 .content list button:active, .content list button:checked, .content list > row:not(:selected):hover button:active, .content list > row:not(:selected):hover button:checked, list.content button:active, list.content button:checked, list.content > row:not(:selected):hover button:active, list.content > row:not(:selected):hover button:checked, list.view.frame button:active, list.view.frame button:checked, list.view.frame > row:not(:selected):hover button:active, list.view.frame > row:not(:selected):hover button:checked { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #c3c3c3; box-shadow: none; text-shadow: none; -gtk-icon-shadow: none; }
@@ -2340,6 +2346,8 @@ headerbar.selection-mode viewswitcher button.radio, .titlebar.selection-mode vie
 
 popover.background button { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #ebebeb; }
 
+popover.background button.flat:not(:hover):not(:active) { border-color: transparent; background-color: transparent; background-image: none; box-shadow: inset 0 1px rgba(255, 255, 255, 0); text-shadow: none; -gtk-icon-shadow: none; }
+
 popover.background button:hover { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #e2e2e2; box-shadow: none; }
 
 popover.background button:active, popover.background button:checked { color: rgba(0, 0, 0, 0.8); outline-color: rgba(0, 0, 0, 0.1); background-color: #c3c3c3; box-shadow: none; text-shadow: none; -gtk-icon-shadow: none; }
